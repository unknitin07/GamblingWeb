<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wallet - Stake Clone</title>
  <style>
    /* Design tokens */
    :root {
      --bg-main: #0b0f14;
      --bg-surface: #0f1720;
      --bg-elev: #111827;
      --muted: #9ca3af;
      --text: #e6eef6;
      --accent-green: #22c55e;
      --accent-neon: #38bdf8;
      --accent-purple: #a855f7;
      --danger: #ef4444;
      --warning: #fbbf24;
      --space-2: 12px;
      --space-3: 16px;
      --space-4: 24px;
      --space-5: 32px;
      --radius-sm: 8px;
      --radius-md: 12px;
      --radius-lg: 18px;
      --font-sans: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      --fs-xs: 11px;
      --fs-sm: 13px;
      --fs-md: 15px;
      --fs-lg: 18px;
      --fw-medium: 500;
      --fw-bold: 700;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: var(--font-sans);
      background: #050810;
      background-image: 
        radial-gradient(at 0% 0%, rgba(234, 179, 8, 0.08) 0px, transparent 50%),
        radial-gradient(at 100% 0%, rgba(239, 68, 68, 0.06) 0px, transparent 50%),
        radial-gradient(at 100% 100%, rgba(34, 197, 94, 0.05) 0px, transparent 50%),
        radial-gradient(circle at 50% 50%, rgba(168, 85, 247, 0.03) 0px, transparent 40%),
        repeating-linear-gradient(45deg, transparent 0px, transparent 2px, rgba(255,255,255,0.015) 2px, rgba(255,255,255,0.015) 4px),
        repeating-linear-gradient(-45deg, transparent 0px, transparent 2px, rgba(255,255,255,0.01) 2px, rgba(255,255,255,0.01) 4px);
      background-attachment: fixed;
      color: var(--text);
      min-height: 100vh;
      -webkit-font-smoothing: antialiased;
    }

    /* Topbar */
    .topbar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 64px;
      background: rgba(8, 12, 18, 0.85);
      backdrop-filter: blur(20px) saturate(180%);
      border-bottom: 1px solid rgba(56, 189, 248, 0.1);
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.05);
      display: flex;
      align-items: center;
      padding: 0 var(--space-4);
      z-index: 100;
      gap: var(--space-4);
    }

    .topbar-brand {
      display: flex;
      align-items: center;
      gap: var(--space-2);
      text-decoration: none;
      color: var(--text);
    }

    .topbar-logo-text {
      font-size: 18px;
      font-weight: 700;
      background: linear-gradient(135deg, #38bdf8, #a855f7);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      letter-spacing: 0.5px;
      text-transform: uppercase;
    }

    .topbar-back {
      display: flex;
      align-items: center;
      gap: var(--space-2);
      padding: 8px 16px;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(56, 189, 248, 0.2);
      border-radius: var(--radius-md);
      color: var(--text);
      text-decoration: none;
      font-size: var(--fs-sm);
      transition: all 0.2s ease;
    }

    .topbar-back:hover {
      background: rgba(255, 255, 255, 0.1);
      border-color: rgba(56, 189, 248, 0.4);
    }

    .topbar-right {
      margin-left: auto;
      display: flex;
      align-items: center;
      gap: var(--space-3);
    }

    .balance-chip {
      display: flex;
      align-items: center;
      gap: var(--space-2);
      padding: 8px 16px;
      background: rgba(20, 25, 35, 0.8);
      backdrop-filter: blur(20px) saturate(180%);
      border-radius: var(--radius-md);
      border: 1px solid rgba(56, 189, 248, 0.2);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.05);
    }

    .balance-amount {
      font-size: var(--fs-md);
      font-weight: 700;
      background: linear-gradient(135deg, #38bdf8, #22c55e);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    /* Main Container */
    .main-container {
      margin-top: 80px;
      padding: var(--space-4);
      max-width: 1200px;
      margin-left: auto;
      margin-right: auto;
    }

    .page-header {
      margin-bottom: var(--space-5);
    }

    .page-title {
      font-size: 32px;
      font-weight: 700;
      margin-bottom: var(--space-2);
      background: linear-gradient(135deg, #38bdf8, #22c55e);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .page-subtitle {
      font-size: var(--fs-md);
      color: var(--muted);
    }

    /* Balance Card */
    .balance-card {
      background: rgba(15, 20, 30, 0.6);
      backdrop-filter: blur(20px) saturate(180%);
      border-radius: var(--radius-lg);
      padding: var(--space-5);
      border: 1px solid rgba(56, 189, 248, 0.15);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.05);
      margin-bottom: var(--space-4);
      position: relative;
      overflow: hidden;
    }

    .balance-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -2px;
      width: 2px;
      height: 100%;
      background: linear-gradient(180deg, 
        transparent,
        rgba(56, 189, 248, 0.5) 20%,
        rgba(168, 85, 247, 0.4) 50%,
        rgba(34, 197, 94, 0.5) 80%,
        transparent
      );
      opacity: 0.8;
      box-shadow: 0 0 10px rgba(56, 189, 248, 0.3);
    }

    .balance-main {
      text-align: center;
      margin-bottom: var(--space-4);
    }

    .balance-label {
      font-size: var(--fs-sm);
      color: var(--muted);
      margin-bottom: var(--space-2);
    }

    .balance-value {
      font-size: 48px;
      font-weight: 700;
      background: linear-gradient(135deg, #38bdf8, #22c55e);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: var(--space-2);
    }

    .balance-usd {
      font-size: var(--fs-md);
      color: var(--muted);
    }

    .balance-actions {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--space-3);
    }

    .btn {
      padding: 14px 24px;
      border: none;
      border-radius: var(--radius-md);
      font-size: var(--fs-md);
      font-weight: 700;
      cursor: pointer;
      transition: all 0.2s ease;
      font-family: inherit;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--space-2);
    }

    .btn-primary {
      background: linear-gradient(135deg, #10b981, #22c55e);
      color: white;
      box-shadow: 0 4px 15px rgba(34, 197, 94, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.2);
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 25px rgba(34, 197, 94, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.2);
    }

    .btn-secondary {
      background: rgba(56, 189, 248, 0.1);
      color: var(--accent-neon);
      border: 1px solid rgba(56, 189, 248, 0.3);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.05);
    }

    .btn-secondary:hover {
      background: rgba(56, 189, 248, 0.2);
      transform: translateY(-2px);
    }

    /* Tabs */
    .tabs {
      display: flex;
      gap: var(--space-2);
      margin-bottom: var(--space-4);
      border-bottom: 1px solid rgba(56, 189, 248, 0.1);
    }

    .tab {
      padding: 12px 24px;
      background: transparent;
      border: none;
      color: var(--muted);
      font-size: var(--fs-md);
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      border-bottom: 2px solid transparent;
      font-family: inherit;
    }

    .tab.active {
      color: var(--accent-neon);
      border-bottom-color: var(--accent-neon);
    }

    .tab:hover {
      color: var(--text);
    }

    /* Tab Content */
    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    /* Transaction List */
    .transaction-list {
      display: flex;
      flex-direction: column;
      gap: var(--space-2);
    }

    .transaction-item {
      background: rgba(15, 20, 30, 0.4);
      backdrop-filter: blur(20px) saturate(180%);
      border-radius: var(--radius-md);
      padding: var(--space-3);
      border: 1px solid rgba(56, 189, 248, 0.1);
      display: flex;
      align-items: center;
      gap: var(--space-3);
      transition: all 0.2s ease;
    }

    .transaction-item:hover {
      border-color: rgba(56, 189, 248, 0.3);
      box-shadow: 0 4px 15px rgba(56, 189, 248, 0.1);
    }

    .transaction-icon {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, rgba(56, 189, 248, 0.2), rgba(168, 85, 247, 0.2));
      border: 1px solid rgba(56, 189, 248, 0.3);
      font-size: 24px;
      flex-shrink: 0;
    }

    .transaction-details {
      flex: 1;
      min-width: 0;
    }

    .transaction-title {
      font-size: var(--fs-md);
      font-weight: 600;
      margin-bottom: 4px;
    }

    .transaction-info {
      font-size: var(--fs-xs);
      color: var(--muted);
    }

    .transaction-amount {
      font-size: var(--fs-lg);
      font-weight: 700;
      text-align: right;
    }

    .transaction-amount.positive {
      color: var(--accent-green);
    }

    .transaction-amount.negative {
      color: var(--danger);
    }

    .transaction-status {
      font-size: var(--fs-xs);
      padding: 4px 8px;
      border-radius: 4px;
      font-weight: 600;
      text-align: center;
    }

    .status-completed {
      background: rgba(34, 197, 94, 0.1);
      color: var(--accent-green);
    }

    .status-pending {
      background: rgba(251, 191, 36, 0.1);
      color: var(--warning);
    }

    .status-failed {
      background: rgba(239, 68, 68, 0.1);
      color: var(--danger);
    }

    /* Deposit Form */
    .deposit-form, .withdraw-form {
      background: rgba(15, 20, 30, 0.4);
      backdrop-filter: blur(20px) saturate(180%);
      border-radius: var(--radius-lg);
      padding: var(--space-4);
      border: 1px solid rgba(56, 189, 248, 0.1);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.05);
    }

    .form-group {
      margin-bottom: var(--space-4);
    }

    .form-label {
      display: block;
      font-size: var(--fs-sm);
      font-weight: 600;
      margin-bottom: var(--space-2);
      color: var(--text);
    }

    .form-input {
      width: 100%;
      padding: 12px 16px;
      background: rgba(8, 12, 18, 0.8);
      border: 1px solid rgba(56, 189, 248, 0.2);
      border-radius: var(--radius-md);
      color: var(--text);
      font-size: var(--fs-md);
      font-family: inherit;
      transition: all 0.2s ease;
    }

    .form-input:focus {
      outline: none;
      border-color: var(--accent-neon);
      box-shadow: 0 0 0 3px rgba(56, 189, 248, 0.1);
    }

    .form-select {
      width: 100%;
      padding: 12px 16px;
      background: rgba(8, 12, 18, 0.8);
      border: 1px solid rgba(56, 189, 248, 0.2);
      border-radius: var(--radius-md);
      color: var(--text);
      font-size: var(--fs-md);
      font-family: inherit;
      cursor: pointer;
    }

    .quick-amounts {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: var(--space-2);
      margin-top: var(--space-2);
    }

    .quick-amount-btn {
      padding: 10px;
      background: rgba(56, 189, 248, 0.1);
      border: 1px solid rgba(56, 189, 248, 0.2);
      border-radius: var(--radius-sm);
      color: var(--accent-neon);
      font-size: var(--fs-sm);
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      font-family: inherit;
    }

    .quick-amount-btn:hover {
      background: rgba(56, 189, 248, 0.2);
      border-color: var(--accent-neon);
    }

    .form-info {
      background: rgba(56, 189, 248, 0.05);
      border: 1px solid rgba(56, 189, 248, 0.2);
      border-radius: var(--radius-md);
      padding: var(--space-3);
      font-size: var(--fs-sm);
      color: var(--muted);
      margin-top: var(--space-2);
    }

    .empty-state {
      text-align: center;
      padding: var(--space-5);
      color: var(--muted);
    }

    .empty-icon {
      font-size: 64px;
      margin-bottom: var(--space-3);
      opacity: 0.3;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .page-title {
        font-size: 24px;
      }

      .balance-value {
        font-size: 36px;
      }

      .balance-actions {
        grid-template-columns: 1fr;
      }

      .quick-amounts {
        grid-template-columns: repeat(2, 1fr);
      }

      .tabs {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
      }

      .tab {
        white-space: nowrap;
      }
    }

    .loading {
      text-align: center;
      padding: var(--space-5);
      color: var(--muted);
    }
  </style>
</head>
<body>
  <!-- Topbar -->
  <header class="topbar">
    <a href="/dashboard" class="topbar-back">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="19" y1="12" x2="5" y2="12"></line>
        <polyline points="12 19 5 12 12 5"></polyline>
      </svg>
      Back
    </a>

    <a href="/" class="topbar-brand">
      <svg width="40" height="40" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="headerGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#38bdf8;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#a855f7;stop-opacity:1" />
          </linearGradient>
        </defs>
        <rect width="64" height="64" rx="14" fill="url(#headerGradient)" />
        <path d="M20 32 L32 20 L44 32 L32 44 Z" fill="rgba(255,255,255,0.9)" />
      </svg>
      <span class="topbar-logo-text">STAKE CLONE</span>
    </a>

    <div class="topbar-right">
      <div class="balance-chip">
        <span class="balance-amount" id="headerBalance">‚Çπ0.00</span>
      </div>
    </div>
  </header>

  <!-- Main Container -->
  <main class="main-container">
    <div class="page-header">
      <h1 class="page-title">Wallet</h1>
      <p class="page-subtitle">Manage your deposits, withdrawals, and transactions</p>
    </div>

    <!-- Balance Card -->
    <div class="balance-card">
      <div class="balance-main">
        <div class="balance-label">Available Balance</div>
        <div class="balance-value" id="mainBalance">‚Çπ0.00</div>
        <div class="balance-usd" id="usdBalance">‚âà $0.00 USD</div>
      </div>

      <div class="balance-actions">
        <button class="btn btn-primary" onclick="showTab('deposit')">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="12" y1="5" x2="12" y2="19"></line>
            <line x1="5" y1="12" x2="19" y2="12"></line>
          </svg>
          Deposit
        </button>
        <button class="btn btn-secondary" onclick="showTab('withdraw')">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="5" y1="12" x2="19" y2="12"></line>
          </svg>
          Withdraw
        </button>
      </div>
    </div>

    <!-- Tabs -->
    <div class="tabs">
      <button class="tab active" onclick="showTab('transactions')">Transactions</button>
      <button class="tab" onclick="showTab('deposit')">Deposit</button>
      <button class="tab" onclick="showTab('withdraw')">Withdraw</button>
    </div>

    <!-- Transactions Tab -->
    <div class="tab-content active" id="transactions-content">
      <div class="transaction-list" id="transactionList">
        <div class="loading">Loading transactions...</div>
      </div>
    </div>

    <!-- Deposit Tab -->
    <div class="tab-content" id="deposit-content">
      <div class="deposit-form">
        <div class="form-group">
          <label class="form-label">Payment Method</label>
          <select class="form-select" id="depositMethod">
            <option value="upi">UPI</option>
            <option value="card">Credit/Debit Card</option>
            <option value="netbanking">Net Banking</option>
            <option value="crypto">Cryptocurrency</option>
          </select>
        </div>

        <div class="form-group">
          <label class="form-label">Amount (INR)</label>
          <input type="number" class="form-input" id="depositAmount" placeholder="Enter amount" min="100">
          <div class="quick-amounts">
            <button class="quick-amount-btn" onclick="setAmount('deposit', 500)">‚Çπ500</button>
            <button class="quick-amount-btn" onclick="setAmount('deposit', 1000)">‚Çπ1,000</button>
            <button class="quick-amount-btn" onclick="setAmount('deposit', 5000)">‚Çπ5,000</button>
            <button class="quick-amount-btn" onclick="setAmount('deposit', 10000)">‚Çπ10,000</button>
          </div>
          <div class="form-info">
            ‚ÑπÔ∏è Minimum deposit: ‚Çπ100 ‚Ä¢ Maximum deposit: ‚Çπ1,00,000
          </div>
        </div>

        <button class="btn btn-primary" style="width: 100%;" onclick="processDeposit()">
          Continue to Payment
        </button>
      </div>
    </div>

    <!-- Withdraw Tab -->
    <div class="tab-content" id="withdraw-content">
      <div class="withdraw-form">
        <div class="form-group">
          <label class="form-label">Withdrawal Method</label>
          <select class="form-select" id="withdrawMethod">
            <option value="upi">UPI</option>
            <option value="bank">Bank Transfer</option>
            <option value="crypto">Cryptocurrency</option>
          </select>
        </div>

        <div class="form-group">
          <label class="form-label">UPI ID / Account Number</label>
          <input type="text" class="form-input" id="withdrawAddress" placeholder="Enter UPI ID or account details">
        </div>

        <div class="form-group">
          <label class="form-label">Amount (INR)</label>
          <input type="number" class="form-input" id="withdrawAmount" placeholder="Enter amount" min="500">
          <div class="quick-amounts">
            <button class="quick-amount-btn" onclick="setAmount('withdraw', 1000)">‚Çπ1,000</button>
            <button class="quick-amount-btn" onclick="setAmount('withdraw', 5000)">‚Çπ5,000</button>
            <button class="quick-amount-btn" onclick="setAmount('withdraw', 10000)">‚Çπ10,000</button>
            <button class="quick-amount-btn" onclick="setAmount('withdraw', 50000)">‚Çπ50,000</button>
          </div>
          <div class="form-info">
            ‚ÑπÔ∏è Minimum withdrawal: ‚Çπ500 ‚Ä¢ Processing time: 1-3 business days
          </div>
        </div>

        <button class="btn btn-primary" style="width: 100%;" onclick="processWithdraw()">
          Request Withdrawal
        </button>
      </div>
    </div>
  </main>

  <script>
    // Format INR currency
    function formatINR(amount) {
      const num = parseFloat(amount);
      if (isNaN(num)) return '‚Çπ0.00';
      
      const [integer, decimal] = num.toFixed(2).split('.');
      const lastThree = integer.slice(-3);
      const otherNumbers = integer.slice(0, -3);
      const formatted = otherNumbers.replace(/\B(?=(\d{2})+(?!\d))/g, ',') + (otherNumbers ? ',' : '') + lastThree;
      
      return `‚Çπ${formatted}.${decimal}`;
    }

    // Mock API
    const API = {
      async getWalletData() {
        await new Promise(resolve => setTimeout(resolve, 800));
        return {
          success: true,
          data: {
            balance: 125050.50,
            usdBalance: 1500.60,
            transactions: [
              { id: 1, type: 'deposit', method: 'UPI', amount: 50000, status: 'completed', date: '2024-01-15 14:30', icon: 'üí∞' },
              { id: 2, type: 'withdraw', method: 'Bank Transfer', amount: -10000, status: 'completed', date: '2024-01-14 10:20', icon: 'üè¶' },
              { id: 3, type: 'deposit', method: 'Card', amount: 25000, status: 'completed', date: '2024-01-13 16:45', icon: 'üí≥' },
              { id: 4, type: 'withdraw', method: 'UPI', amount: -5000, status: 'pending', date: '2024-01-12 09:15', icon: 'üì§' },
              { id: 5, type: 'deposit', method: 'UPI', amount: 15000, status: 'completed', date: '2024-01-11 11:30', icon: 'üí∞' },
              { id: 6, type: 'deposit', method: 'Crypto', amount: 50050.50, status: 'completed', date: '2024-01-10 08:00', icon: '‚Çø' }
            ]
          }
        };
      },

      async processDeposit(amount, method) {
        await new Promise(resolve => setTimeout(resolve, 1000));
        return { success: true, message: 'Deposit initiated successfully!' };
      },

      async processWithdraw(amount, method, address) {
        await new Promise(resolve => setTimeout(resolve, 1000));
        return { success: true, message: 'Withdrawal request submitted!' };
      }
    };

    // Load wallet data
    async function loadWallet() {
      try {
        const response = await API.getWalletData();
        
        if (response.success) {
          const { balance, usdBalance, transactions } = response.data;
          
          // Update balances
          document.getElementById('headerBalance').textContent = formatINR(balance);
          document.getElementById('mainBalance').textContent = formatINR(balance);
          document.getElementById('usdBalance').textContent = `‚âà $${usdBalance.toFixed(2)} USD`;
          
          // Update transactions
          const transactionList = document.getElementById('transactionList');
          if (transactions.length === 0) {
            transactionList.innerHTML = `
              <div class="empty-state">
                <div class="empty-icon">üì≠</div>
                <p>No transactions yet</p>
              </div>
            `;
          } else {
            transactionList.innerHTML = transactions.map(tx => `
              <div class="transaction-item">
                <div class="transaction-icon">${tx.icon}</div>
                <div class="transaction-details">
                  <div class="transaction-title">${tx.type === 'deposit' ? 'Deposit' : 'Withdrawal'} ‚Ä¢ ${tx.method}</div>
                  <div class="transaction-info">${tx.date}</div>
                </div>
                <div style="text-align: right;">
                  <div class="transaction-amount ${tx.amount > 0 ? 'positive' : 'negative'}">
                    ${tx.amount > 0 ? '+' : ''}${formatINR(Math.abs(tx.amount))}
                  </div>
                  <div class="transaction-status status-${tx.status}">
                    ${tx.status.charAt(0).toUpperCase() + tx.status.slice(1)}
                  </div>
                </div>
              </div>
            `).join('');
          }
        }
      } catch (error) {
        console.error('Error loading wallet:', error);
        document.getElementById('transactionList').innerHTML = `
          <div class="empty-state">
            <div class="empty-icon">‚ö†Ô∏è</div>
            <p>Error loading transactions. Please refresh.</p>
          </div>
        `;
      }
    }

    // Show tab
    function showTab(tabName) {
      // Update tab buttons
      document.querySelectorAll('.tab').forEach(tab => {
        tab.classList.remove('active');
      });
      event.target.classList.add('active');

      // Update tab content
      document.querySelectorAll('.tab-content').forEach(content => {
        content.classList.remove('active');
      });
      document.getElementById(`${tabName}-content`).classList.add('active');
    }

    // Set quick amount
    function setAmount(type, amount) {
      document.getElementById(`${type}Amount`).value = amount;
    }

    // Process deposit
    async function processDeposit() {
      const amount = document.getElementById('depositAmount').value;
      const method = document.getElementById('depositMethod').value;

      if (!amount || amount < 100) {
        alert('Please enter a valid amount (minimum ‚Çπ100)');
        return;
      }

      if (amount > 100000) {
        alert('Maximum deposit amount is ‚Çπ1,00,000');
        return;
      }

      const btn = event.target;
      const originalText = btn.textContent;
      btn.textContent = 'Processing...';
      btn.disabled = true;

      try {
        const response = await API.processDeposit(amount, method);
        
        if (response.success) {
          alert(`‚úÖ ${response.message}\n\nAmount: ${formatINR(amount)}\nMethod: ${method.toUpperCase()}`);
          document.getElementById('depositAmount').value = '';
          loadWallet();
        }
      } catch (error) {
        console.error('Deposit error:', error);
        alert('‚ùå Deposit failed. Please try again.');
      } finally {
        btn.textContent = originalText;
        btn.disabled = false;
      }
    }

    // Process withdrawal
    async function processWithdraw() {
      const amount = document.getElementById('withdrawAmount').value;
      const method = document.getElementById('withdrawMethod').value;
      const address = document.getElementById('withdrawAddress').value;

      if (!amount || amount < 500) {
        alert('Please enter a valid amount (minimum ‚Çπ500)');
        return;
      }

      if (!address) {
        alert('Please enter your UPI ID or account details');
        return;
      }

      // Get current balance
      const balanceText = document.getElementById('mainBalance').textContent;
      const balance = parseFloat(balanceText.replace(/[‚Çπ,]/g, ''));

      if (amount > balance) {
        alert('Insufficient balance');
        return;
      }

      const btn = event.target;
      const originalText = btn.textContent;
      btn.textContent = 'Processing...';
      btn.disabled = true;

      try {
        const response = await API.processWithdraw(amount, method, address);
        
        if (response.success) {
          alert(`‚úÖ ${response.message}\n\nAmount: ${formatINR(amount)}\nMethod: ${method.toUpperCase()}\nAccount: ${address}\n\nProcessing time: 1-3 business days`);
          document.getElementById('withdrawAmount').value = '';
          document.getElementById('withdrawAddress').value = '';
          loadWallet();
        }
      } catch (error) {
        console.error('Withdrawal error:', error);
        alert('‚ùå Withdrawal failed. Please try again.');
      } finally {
        btn.textContent = originalText;
        btn.disabled = false;
      }
    }

    // Initialize
    window.addEventListener('DOMContentLoaded', () => {
      loadWallet();
    });

    // Handle tab clicks
    document.querySelectorAll('.tab').forEach(tab => {
      tab.addEventListener('click', function() {
        const tabName = this.textContent.toLowerCase().trim();
        showTab(tabName);
      });
    });
  </script>
</body>
</html>